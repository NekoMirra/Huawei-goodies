<Window x:Class="GoodiesControl.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Matebook E Go Goodies" Height="540" Width="720" MinHeight="480" MinWidth="640">
    <Grid Margin="12">
        <TabControl>
            <TabItem Header="键盘拆离">
                <StackPanel Margin="12" Spacing="8">
                    <TextBlock Text="控制键盘拆离功能" FontWeight="SemiBold"/>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <Button x:Name="QueryKeyboardButton" Content="查询状态" Width="90" Click="QueryKeyboardButton_Click"/>
                        <Button x:Name="EnableKeyboardButton" Content="启用" Width="90" Click="EnableKeyboardButton_Click"/>
                        <Button x:Name="DisableKeyboardButton" Content="禁用" Width="90" Click="DisableKeyboardButton_Click"/>
                    </StackPanel>
                    <TextBlock x:Name="KeyboardStatusText" Text="状态未知"/>
                    <TextBlock Text="内部调用 kbd-detach，需随附 KeyboardService.dll" FontSize="12" Foreground="Gray"/>
                </StackPanel>
            </TabItem>
            <TabItem Header="屏幕校色 (QDCM)">
                <ScrollViewer Margin="12">
                    <StackPanel Spacing="8">
                        <TextBlock Text="一键应用官方预设或自定义 LUT" FontWeight="SemiBold"/>
                        <WrapPanel ItemWidth="120" ItemHeight="36" MinHeight="36" HorizontalAlignment="Left" Orientation="Horizontal" Margin="0,0,0,8">
                            <Button x:Name="ApplyP3Button" Content="Display P3" Width="120" Margin="0,0,8,8" Click="ApplyP3Button_Click"/>
                            <Button x:Name="ApplySrgbButton" Content="sRGB" Width="120" Margin="0,0,8,8" Click="ApplySrgbButton_Click"/>
                            <Button x:Name="ResetDisplayButton" Content="重置" Width="120" Margin="0,0,8,8" Click="ResetDisplayButton_Click"/>
                        </WrapPanel>

                        <GroupBox Header="自定义 LUT" Padding="8">
                            <StackPanel Spacing="6">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock Text="IGC (3x1D)" Width="80" VerticalAlignment="Center"/>
                                    <TextBox x:Name="IgcPathBox" Width="360"/>
                                    <Button Content="浏览" Width="70" Click="BrowseIgcButton_Click"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock Text="3D LUT" Width="80" VerticalAlignment="Center"/>
                                    <TextBox x:Name="Lut3DPathBox" Width="360"/>
                                    <Button Content="浏览" Width="70" Click="BrowseLutButton_Click"/>
                                </StackPanel>
                                <Button x:Name="ApplyCustomLutButton" Content="应用自定义 LUT" Width="170" HorizontalAlignment="Left" Click="ApplyCustomLutButton_Click"/>
                            </StackPanel>
                        </GroupBox>
                        <TextBlock x:Name="QdcmStatusText" Text="等待操作"/>
                        <TextBlock Text="需要 qdcm-loader 及 qdcmlib.dll 对应架构" FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="电池充电限制">
                <StackPanel Margin="12" Spacing="8">
                    <TextBlock Text="设置充电上限 (50-100%)" FontWeight="SemiBold"/>
                    <StackPanel Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                        <Slider x:Name="ChargeSlider" Minimum="50" Maximum="100" Value="80" Width="240" TickFrequency="5" IsSnapToTickEnabled="True"/>
                        <TextBlock x:Name="ChargeValueText" Text="80%" Width="60" VerticalAlignment="Center"/>
                        <Button x:Name="ApplyChargeButton" Content="应用" Width="90" Click="ApplyChargeButton_Click"/>
                    </StackPanel>
                    <TextBlock Text="内部调用 WMI OemWMIfun，与 Set-ChargeLimit.ps1 逻辑一致" FontSize="12" Foreground="Gray"/>
                    <TextBlock x:Name="ChargeStatusText" Text="尚未设置"/>
                </StackPanel>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
